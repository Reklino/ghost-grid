function Ghost(){function e(e){return void 0==e?!1:"number"!=typeof e?e.indexOf("rem")>-1?parseFloat(e)*parseFloat(window.getComputedStyle(document.documentElement).fontSize):e.indexOf("em")>-1?parseFloat(e)*parseFloat(window.getComputedStyle(t.containingElement).fontSize):parseFloat(e):void console.log('Ghost Grid says: baseLineHeight must be set to a string with the unit type declared (example: "24px")')}var t={};t.align="center",t.opacity=.75,t.breaks=[{containerWidth:!1,point:"(min-width: 800px)",columns:12,gutters:.25,baseLineHeight:"24px"}],t.oldBreaks=[],t.grid=document.createElement("div"),t.gridContainer=document.createElement("div"),t.gridLineContainer=document.createElement("div"),t.gridSwitch=document.createElement("div"),t.grid.setAttribute("class","grid"),t.gridContainer.setAttribute("class","grid-container"),t.gridLineContainer.setAttribute("class","grid-line-container"),t.grid.appendChild(t.gridLineContainer),t.grid.appendChild(t.gridContainer),t.gridSwitch.setAttribute("class","grid-switch"),t.gridSwitch.innerHTML="<i></i><i></i><i></i><i></i>",t.gridRender=function(n){var r="undefined"==typeof n?t.breaks[0]:n;if(body=t.containingElement,html=document.documentElement,containerWidth="100%",containerWidth=r.containerWidth>0?r.containerWidth+"px":containerWidth,w=window.innerWidth,h=Math.max(body.scrollHeight,body.offsetHeight,html.clientHeight,html.scrollHeight,html.offsetHeight),baseLineHeight=e(r.baseLineHeight),lines=Math.round(h/baseLineHeight)+40,colWidth=100/r.columns,gutterSize=r.gutters/(r.columns+r.columns*r.gutters)*100,t.gridContainer.innerHTML="",t.gridLineContainer.innerHTML="",t.grid.style.opacity=t.opacity,t.gridContainer.style.maxWidth=containerWidth,"100%"!=containerWidth)switch(t.align){case"left":t.gridContainer.style.marginLeft="0",t.gridContainer.style.marginRight="0";break;case"center":t.gridContainer.style.marginLeft="auto",t.gridContainer.style.marginRight="auto";break;case"right":t.gridContainer.style.marginLeft="auto",t.gridContainer.style.marginRight="0"}for(i=0;i<r.columns+1;i++){var a=document.createElement("div");a.style.paddingLeft=gutterSize/2+"%",a.style.paddingRight=gutterSize/2+"%",a.style.left=i*colWidth-gutterSize/2+"%",t.gridContainer.appendChild(a)}if(baseLineHeight)for(i=0;i<lines;i++){var o=document.createElement("div");o.setAttribute("class","ghost-line"),o.style.height=r.baseLineHeight,t.gridLineContainer.appendChild(o)}};var n=function(e){for(i=0;i<t.breaks.length;i++)if(e==t.breaks[i].point){var n=t.activeBreakPointIndex>=i?i-1:i;return n=n>=t.breaks.length?n-1:n,t.activeBreakPointIndex=n,t.breaks[n]}};return t.breakChange=function(e){t.activeBreakPoint=n(e.media),t.gridRender(t.activeBreakPoint)},t.summon=function(){for(t.containingElement.style.position="relative",t.containingElement=t.containingElement?t.containingElement:document.body,t.containingElement.classList.toggle("grid-hidden"),console.log(t.grid),t.containingElement.appendChild(t.grid),t.containingElement.appendChild(t.gridSwitch),t.toggle=function(){t.containingElement.classList.toggle("grid-hidden")},t.gridSwitch.addEventListener("click",function(){t.toggle()}),i=0;i<t.oldBreaks.length;i++)t.oldBreaks[i].removeListener(t.breakChange);if(t.oldBreaks=[],t.activeBreakPoint=!1,window.matchMedia){for(i=0;i<t.breaks.length;i++){var e=window.matchMedia(t.breaks[i].point);e.addListener(t.breakChange),t.oldBreaks.push(e),e.matches&&(t.activeBreakPointIndex=i-1,t.activeBreakPoint=n(e.media))}t.activeBreakPoint=t.activeBreakPoint?t.activeBreakPoint:t.breaks[t.breaks[0]],t.gridRender(t.activeBreakPoint)}else alert("Your browser does not support the MediaQueryList object. Ghosts hate old browsers. Get a new one.")},t}
var ghost=function(){function e(e){return"number"!=typeof e?e.indexOf("rem")>-1?parseFloat(e)*parseFloat(window.getComputedStyle(document.documentElement).fontSize):e.indexOf("em")>-1?parseFloat(e)*parseFloat(window.getComputedStyle(document.body).fontSize):parseFloat(e):void console.log('Ghost Grid says: baseLineHeight must be set to a string with the unit type declared (example: "24px")')}var t={};t.container=!1,t.containerPosition="center",t.opacity=.5,t.breaks=[{point:"(min-width: 800px)",columns:12,gutters:.25,baseLineHeight:"24px"}],t.oldBreaks=[];var n=document.createElement("div"),o=document.createElement("div"),a=document.createElement("div"),r=document.createElement("div");document.body.setAttribute("class","grid-hidden"),n.id="grid",o.id="grid-container",a.id="grid-line-container",n.appendChild(a),n.appendChild(o),document.body.appendChild(n),r.id="grid-switch",r.innerHTML="<i></i><i></i><i></i><i></i>",document.body.appendChild(r),n=document.getElementById("grid"),o=document.getElementById("grid-container"),a=document.getElementById("grid-line-container"),r=document.getElementById("grid-switch"),t.toggle=function(){document.body.classList.toggle("grid-hidden")},r.addEventListener("click",function(){t.toggle()}),t.gridRender=function(r){var d="undefined"==typeof r?t.breaks[0]:r;if(body=document.body,html=document.documentElement,container=t.container>0?t.container+"px":"100%",container=d.container>0?d.container+"px":defaultContainer,w=window.innerWidth,h=Math.max(body.scrollHeight,body.offsetHeight,html.clientHeight,html.scrollHeight,html.offsetHeight),baseLineHeight=e(d.baseLineHeight),lines=Math.round(h/baseLineHeight)+40,colWidth=100/d.columns,gutterSize=d.gutters/(d.columns+d.columns*d.gutters)*100,o.innerHTML="",a.innerHTML="",n.style.opacity=t.opacity,o.style.maxWidth=container,"100%"!=container)switch(t.containerPosition){case"left":o.style.marginLeft="0",o.style.marginRight="0";break;case"center":o.style.marginLeft="auto",o.style.marginRight="auto";break;case"right":o.style.marginLeft="0",o.style.marginRight="0"}for(i=0;i<d.columns+1;i++){var s=document.createElement("div");s.style.paddingLeft=gutterSize/2+"%",s.style.paddingRight=gutterSize/2+"%",s.style.left=i*colWidth-gutterSize/2+"%",o.appendChild(s)}for(i=0;i<lines;i++){var c=document.createElement("div");c.setAttribute("class","ghost-line"),c.style.height=d.baseLineHeight,a.appendChild(c)}};var d=function(e){for(i=0;i<t.breaks.length;i++)if(console.log(e+","+t.breaks[i].point),e==t.breaks[i].point){var n=t.activeBreakPointIndex>=i?i-1:i;return n=n>=t.breaks.length?n-1:n,t.activeBreakPointIndex=n,t.breaks[n]}};return t.breakChange=function(e){t.activeBreakPoint=d(e.media),t.gridRender(t.activeBreakPoint)},t.summon=function(){for(i=0;i<t.oldBreaks.length;i++)t.oldBreaks[i].removeListener(t.breakChange);if(t.oldBreaks=[],t.activeBreakPoint=!1,window.matchMedia){for(i=0;i<t.breaks.length;i++){var e=window.matchMedia(t.breaks[i].point);e.addListener(t.breakChange),t.oldBreaks.push(e),e.matches&&(t.activeBreakPointIndex=i,t.activeBreakPoint=d(e.media))}t.activeBreakPoint=t.activeBreakPoint?t.activeBreakPoint:t.breaks[t.breaks[0]],t.gridRender(t.activeBreakPoint)}else alert("Your browser does not support the MediaQueryList object. Ghosts hate old browsers. Get a new one.")},t}();